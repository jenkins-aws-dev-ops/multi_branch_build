name: GitHub Actions Demo
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    outputs:
      matr : ${{ steps.set-matrix.outputs.matr }}
    steps:   
    - id: set-matrix
      run: |
         echo "üéâ The job was automatically triggered by a ${{ github.event_name }}"
         echo "üêß This job is now running on a ${{ runner.os }} server hosted by GitHub!"
         echo "üîé The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
    - name: Check out repository code
      uses: actions/checkout@v2
      run: |
        echo "üí° The ${{ github.repository }} repository has been cloned to the runner."
        cat ${{ github.workspace }}/.github/workflows/sample
        file_content=`cat ${{ github.workspace }}/.github/workflows/sample`
        echo "abc=$file_content" >> $GITHUB_ENV
        echo "::set-output name=matr::$file_content"
        echo "${{ env.abc }}"
    - name: List files in the repository
        run | 
          ls ${{ github.workspace }}
          echo "üçè This job's status is ${{ job.status }}."
    
  Run-Smoke:
   strategy:
     max-parallel: 1
     matrix: 
      tests: ['a', 'b', 'c']
   runs-on: ubuntu-latest
   needs: Explore-GitHub-Actions
   steps:
      - run: echo "${{ matrix.tests }} ${{ needs.job1.outputs.matr  }}"
   
